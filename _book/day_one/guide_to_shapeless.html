
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Type Astronauts Guide to Shapeless Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="tour_of_scalameta.html" />
    
    
    <link rel="prev" href="generic_derivation.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Day One</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="compilers_are_in_memory_databases.html">
            
                <a href="compilers_are_in_memory_databases.html">
            
                    
                    Compilers are (in Memory) Databases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="practical_scalacheck.html">
            
                <a href="practical_scalacheck.html">
            
                    
                    Practical ScalaCheck
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="cbt.html">
            
                <a href="cbt.html">
            
                    
                    CBT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="generic_derivation.html">
            
                <a href="generic_derivation.html">
            
                    
                    Generic Derivation
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.5" data-path="guide_to_shapeless.html">
            
                <a href="guide_to_shapeless.html">
            
                    
                    Type Astronauts Guide to Shapeless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="tour_of_scalameta.html">
            
                <a href="tour_of_scalameta.html">
            
                    
                    Tour of scala.meta
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="functional_database_programming.html">
            
                <a href="functional_database_programming.html">
            
                    
                    Functional Database Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="run_wild_run_free.html">
            
                <a href="run_wild_run_free.html">
            
                    
                    Run Wild, Run Free!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="enterprise_algebras.html">
            
                <a href="enterprise_algebras.html">
            
                    
                    Enterprise Algebras
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="advanced_akka_streams.html">
            
                <a href="advanced_akka_streams.html">
            
                    
                    Advanced Akka Streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="distributed_vs_compositionality.html">
            
                <a href="distributed_vs_compositionality.html">
            
                    
                    Distributed Systems vs Compositionality
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Day Two</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../day_two/scalafiddle.html">
            
                <a href="../day_two/scalafiddle.html">
            
                    
                    ScalaFiddle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../day_two/use_the_fors.html">
            
                <a href="../day_two/use_the_fors.html">
            
                    
                    Use the Fors, Luke
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../day_two/free_monads.html">
            
                <a href="../day_two/free_monads.html">
            
                    
                    Free Monads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../day_two/can_we_make_concurrency_safer.html">
            
                <a href="../day_two/can_we_make_concurrency_safer.html">
            
                    
                    Can We Make Concurrency Safer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../day_two/first_class_coroutines.html">
            
                <a href="../day_two/first_class_coroutines.html">
            
                    
                    First Class Coroutines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../day_two/quaich_serverless_microframework.html">
            
                <a href="../day_two/quaich_serverless_microframework.html">
            
                    
                    quaich: Serverless Microframework
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../day_two/compiling_for_the_jvm.html">
            
                <a href="../day_two/compiling_for_the_jvm.html">
            
                    
                    Compiling for the JVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../day_two/staged_parser_combinators.html">
            
                <a href="../day_two/staged_parser_combinators.html">
            
                    
                    Staged Parser Combinators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="../day_two/essential_vs_accidental_complexity_in_scala.html">
            
                <a href="../day_two/essential_vs_accidental_complexity_in_scala.html">
            
                    
                    Essential vs Accidental Complexity in Scala
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="../day_two/story_of_a_parallel_scala_library.html">
            
                <a href="../day_two/story_of_a_parallel_scala_library.html">
            
                    
                    Story of a Parallel Scala Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="../day_two/managing_your_resources.html">
            
                <a href="../day_two/managing_your_resources.html">
            
                    
                    Managing Your Resources
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Type Astronauts Guide to Shapeless</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="the-type-astronauts-guide-to-shapeless---dave-gurnell">The Type Astronauts Guide to Shapeless - Dave Gurnell</h3><p>Introductory workshop on shapeless, the generic programming library for scala created by Miles Sabin.</p><p>The core construct provided by the library is the HList (for heterogenous list), a data structure where the type (and
number of) elements the list contains is reflected in it&apos;s type signature. So, for a list containing a String, an Int
and a Boolean, we&apos;d have something like:</p><pre><code class="lang-scala"><span class="hljs-keyword">val</span> strIntBool: <span class="hljs-type">String</span> :: <span class="hljs-type">Int</span> :: <span class="hljs-type">Boolean</span> :: <span class="hljs-type">HNil</span> = ???</code></pre>
<p>As opposed to the following, which is what you would have if you put the same elements in a standard scala Seq, where
the only information it contains is the closest common ancestor of the element&apos;s types (Any):</p><pre><code class="lang-scala"><span class="hljs-keyword">val</span> strIntBool: <span class="hljs-type">Seq</span>[<span class="hljs-type">Any</span>] = ???</code></pre>
<p>Shapeless also provides facilities to convert any case class or tuple to and from this representation, and to perform
collection style operations on HLists (e.g. map) in a typesafe manner.</p><p>The library can be used to implement functionality that we might otherwise have used reflection for, e.g. take all the
fields of any arbitrary object and write them out as a line of CSV data. The big advantage shapeless has is that this 
can all be done without stepping outside the type system, therefore giving the compiler the opportunity to check our 
work.</p><p>There&apos;s a huge amount more to the library, all built around the same basic idea of typesafe generic programming. It
has made a big impact on the scala ecosystem since the 1.0 release a couple of days before the start of 2012, with at 
least 60-odd other libraries depending on it and 80 contributors to the project</p><p>One unfortunate aspect of working with shapeless is the insanity of the type signatures. In the picture below, the 
first 17 lines on screen constitute the type signature of the function being declared, the body of which is 9 lines 
long.  This does not seem to be unusual.
<img alt="shapless type signature" src="../gitbook/images/day_one/shapeless_type_signature.jpg"></p><p><strong>Slides</strong> - <a href="https://github.com/davegurnell/shapeless-guide-slides" target="_blank">https://github.com/davegurnell/shapeless-guide-slides</a></p><p><strong>Repo</strong> - <a href="https://github.com/davegurnell/shapeless-guide" target="_blank">https://github.com/davegurnell/shapeless-guide</a></p><p><strong>Book (WIP)</strong> - <a href="https://github.com/davegurnell/shapeless-guide/blob/develop/dist/shapeless-guide.pdf" target="_blank">https://github.com/davegurnell/shapeless-guide/blob/develop/dist/shapeless-guide.pdf</a></p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="generic_derivation.html" class="navigation navigation-prev " aria-label="Previous page: Generic Derivation">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="tour_of_scalameta.html" class="navigation navigation-next " aria-label="Next page: Tour of scala.meta">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Type Astronauts Guide to Shapeless","level":"2.5","depth":1,"next":{"title":"Tour of scala.meta","level":"2.6","depth":1,"path":"day_one/tour_of_scalameta.md","ref":"day_one/tour_of_scalameta.md","articles":[]},"previous":{"title":"Generic Derivation","level":"2.4","depth":1,"path":"day_one/generic_derivation.md","ref":"day_one/generic_derivation.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"day_one/guide_to_shapeless.md","mtime":"2016-09-18T19:22:27.222Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-09-18T22:06:04.376Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

